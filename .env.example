# Thunder Text Environment Variables
# Copy to .env.local and fill in values
# NEVER commit .env.local to git
#
# SECURITY NOTE: If you suspect credentials have been exposed,
# rotate them immediately in the respective service dashboards.

# ============================================================================
# REQUIRED - Application will not start without these
# ============================================================================

# Shopify Configuration
SHOPIFY_API_KEY=your_shopify_api_key
SHOPIFY_API_SECRET=your_shopify_api_secret
SHOPIFY_SCOPES=read_products,write_products,read_product_listings,write_product_listings,write_files,read_files
SHOPIFY_APP_URL=https://thunder-text.onrender.com
SHOPIFY_APP_HANDLE=thunder-text-29
SHOPIFY_TEST_STORE=zunosai-staging-test-store

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
# Legacy alias (deprecated, use SUPABASE_SERVICE_ROLE_KEY)
SUPABASE_SERVICE_KEY=your_supabase_service_key

# Direct Postgres connection (for migrations)
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# NextAuth Configuration
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your_nextauth_secret
NEXTAUTH_URL=https://thunder-text.onrender.com

# App URL Configuration (used for redirects and OAuth callbacks)
NEXT_PUBLIC_APP_URL=https://thunder-text.onrender.com

# ============================================================================
# AI PROVIDERS - At least one required
# ============================================================================

# OpenAI Configuration (Primary AI Provider)
OPENAI_API_KEY=sk-your_openai_api_key
# Optional model overrides
OPENAI_MODEL_ANALYSIS=gpt-4o-mini
OPENAI_MODEL_QUALITY=gpt-4o-mini

# Anthropic Configuration (Fallback Provider)
# Optional - enables Claude as fallback when OpenAI is unavailable
# Get API key from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key

# ============================================================================
# OPTIONAL - Enhanced features
# ============================================================================

# Development Environment
NODE_ENV=development

# Facebook Ads Integration
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret
FACEBOOK_REDIRECT_URI=https://thunder-text.onrender.com/api/facebook/oauth/callback

# Encryption (Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
ENCRYPTION_KEY=your_64_character_hex_encryption_key

# Stripe - Payment Processing
STRIPE_SECRET_KEY=sk_live_or_test_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Resend Email Service (for Facebook campaign alerts)
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key
RESEND_FROM_EMAIL=Thunder Text <alerts@yourdomain.com>

# Sentry - Error Monitoring
NEXT_PUBLIC_SENTRY_DSN=https://your-key@sentry.io/project-id

# Render - Deployment Platform
RENDER_EXTERNAL_URL=https://thunder-text.onrender.com

# Upstash Redis - Distributed Rate Limiting (Required for production)
# Get from: https://console.upstash.com/redis
# If not configured, falls back to in-memory rate limiting (single instance only)
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token

# ============================================================================
# Seasonal Trends Engine Configuration
# ============================================================================

# SerpAPI Configuration
# Get your API key from: https://serpapi.com/dashboard
# Free tier: 100 searches/month, Paid plans start at $50/month
SERPAPI_KEY=your_serpapi_key_here

# Refresh Job Settings
TRENDS_REFRESH_CRON="0 3 * * 1"    # Every Monday at 3 AM UTC (weekly)
TRENDS_BACKFILL_YEARS=2            # Years of historical data to backfill

# Rate Limiting
TRENDS_MAX_CONCURRENT_REQUESTS=5   # Max parallel API calls
TRENDS_RATE_LIMIT_DELAY_MS=1500    # Delay between API calls (ms)

# ============================================================================
# Developer Monitoring Dashboard
# ============================================================================

# Dev Dashboard Authentication
# Generate with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
# Minimum 16 characters required
DEV_ADMIN_SECRET=your_32_character_hex_key_here

# ============================================================================
# Experimental Features (Development Only)
# ============================================================================

# Enable experimental features like image and video generation
# Set to "true" to enable in production (not recommended)
# In development mode (NODE_ENV=development), these features are always enabled
NEXT_PUBLIC_ENABLE_EXPERIMENTAL_FEATURES=false

# ============================================================================
# Product Animator (Veo 3.1 Video Generation)
# ============================================================================

# Kie.ai API Configuration
# Get your API key from: https://kie.ai/
# Pricing: ~$0.40 per video (fast) or ~$2.00 per video (quality)
KIE_AI_KEY=your_kie_ai_api_key_here

# ============================================================================
# Alerting Configuration
# ============================================================================

# Slack Webhook for Critical Alerts
# Create at: https://api.slack.com/apps > Incoming Webhooks
# Optional - alerts will be logged if not configured
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email Alert Recipient
# Uses Resend API (RESEND_API_KEY must be set)
# Optional - alerts will be logged if not configured
ALERT_EMAIL=your-team@example.com